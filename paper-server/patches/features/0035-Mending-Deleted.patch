From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: LanzoZ <bhbxgre@gmail.com>
Date: Thu, 5 Feb 2026 23:52:40 +0700
Subject: [PATCH] Mending Deleted


diff --git a/net/minecraft/data/loot/packs/TradeRebalanceChestLoot.java b/net/minecraft/data/loot/packs/TradeRebalanceChestLoot.java
index 4bcbbb66319fc6573355fb961e88ef23167c6b4a..2d52875f51422e423286553789f27b107fd774b1 100644
--- a/net/minecraft/data/loot/packs/TradeRebalanceChestLoot.java
+++ b/net/minecraft/data/loot/packs/TradeRebalanceChestLoot.java
@@ -274,11 +274,13 @@ public record TradeRebalanceChestLoot(HolderLookup.Provider registries) implemen
                 LootPool.lootPool()
                     .setRolls(ConstantValue.exactly(1.0F))
                     .add(EmptyLootItem.emptyItem().setWeight(71))
+                    /*
                     .add(
                         LootItem.lootTableItem(Items.BOOK)
                             .setWeight(4)
                             .apply(new EnchantRandomlyFunction.Builder().withEnchantment(registryLookup.getOrThrow(Enchantments.MENDING)))
-                    )
+                    )*/
+
                     .add(LootItem.lootTableItem(Items.WARD_ARMOR_TRIM_SMITHING_TEMPLATE).setWeight(4))
                     .add(LootItem.lootTableItem(Items.SILENCE_ARMOR_TRIM_SMITHING_TEMPLATE).setWeight(1))
             );
diff --git a/net/minecraft/data/loot/packs/VanillaChestLoot.java b/net/minecraft/data/loot/packs/VanillaChestLoot.java
index df0019e6f853d9951164f368e163e9c84e26cd30..395fbf6650568d1255055d760ae43c64b4e05b3e 100644
--- a/net/minecraft/data/loot/packs/VanillaChestLoot.java
+++ b/net/minecraft/data/loot/packs/VanillaChestLoot.java
@@ -1171,8 +1171,8 @@ public record VanillaChestLoot(HolderLookup.Provider registries) implements Loot
                                                 registryLookup.getOrThrow(Enchantments.RIPTIDE),
                                                 registryLookup.getOrThrow(Enchantments.LOYALTY),
                                                 registryLookup.getOrThrow(Enchantments.CHANNELING),
-                                                registryLookup.getOrThrow(Enchantments.IMPALING),
-                                                registryLookup.getOrThrow(Enchantments.MENDING)
+                                                registryLookup.getOrThrow(Enchantments.IMPALING)
+                                                /*registryLookup.getOrThrow(Enchantments.MENDING)*/
                                             )
                                         )
                                 )
diff --git a/net/minecraft/data/tags/TradeRebalanceEnchantmentTagsProvider.java b/net/minecraft/data/tags/TradeRebalanceEnchantmentTagsProvider.java
index 40fddeb364fdeeee68ddc7c75ed7116ab2f87211..c41b50bcc5a06fe4f5e31bb6869d2e54e3cb6556 100644
--- a/net/minecraft/data/tags/TradeRebalanceEnchantmentTagsProvider.java
+++ b/net/minecraft/data/tags/TradeRebalanceEnchantmentTagsProvider.java
@@ -27,7 +27,7 @@ public class TradeRebalanceEnchantmentTagsProvider extends KeyTagProvider<Enchan
         this.tag(EnchantmentTags.TRADES_PLAINS_SPECIAL).add(Enchantments.PROTECTION);
         this.tag(EnchantmentTags.TRADES_SAVANNA_SPECIAL).add(Enchantments.SHARPNESS);
         this.tag(EnchantmentTags.TRADES_SNOW_SPECIAL).add(Enchantments.SILK_TOUCH);
-        this.tag(EnchantmentTags.TRADES_SWAMP_SPECIAL).add(Enchantments.MENDING);
+        /*this.tag(EnchantmentTags.TRADES_SWAMP_SPECIAL).add(Enchantments.MENDING);*/
         this.tag(EnchantmentTags.TRADES_TAIGA_SPECIAL).add(Enchantments.FORTUNE);
     }
 }
diff --git a/net/minecraft/data/tags/VanillaEnchantmentTagsProvider.java b/net/minecraft/data/tags/VanillaEnchantmentTagsProvider.java
index 0d13f8847befe5424ccc67855d4d891f2bc2f746..2905057ac99ed195e7e7987f143c78615384a4b6 100644
--- a/net/minecraft/data/tags/VanillaEnchantmentTagsProvider.java
+++ b/net/minecraft/data/tags/VanillaEnchantmentTagsProvider.java
@@ -56,13 +56,13 @@ public class VanillaEnchantmentTagsProvider extends EnchantmentTagsProvider {
             Enchantments.THORNS,
             Enchantments.LOYALTY,
             Enchantments.UNBREAKING,
-            Enchantments.INFINITY,
-            Enchantments.MENDING
+            Enchantments.INFINITY
+            /*Enchantments.MENDING*/
         );
         this.tag(EnchantmentTags.ARMOR_EXCLUSIVE)
             .add(Enchantments.PROTECTION, Enchantments.BLAST_PROTECTION, Enchantments.FIRE_PROTECTION, Enchantments.PROJECTILE_PROTECTION);
         this.tag(EnchantmentTags.BOOTS_EXCLUSIVE).add(Enchantments.FROST_WALKER, Enchantments.DEPTH_STRIDER);
-        this.tag(EnchantmentTags.BOW_EXCLUSIVE).add(Enchantments.INFINITY, Enchantments.MENDING);
+        this.tag(EnchantmentTags.BOW_EXCLUSIVE).add(Enchantments.INFINITY/*, Enchantments.MENDING*/);
         this.tag(EnchantmentTags.CROSSBOW_EXCLUSIVE).add(Enchantments.MULTISHOT, Enchantments.PIERCING);
         this.tag(EnchantmentTags.DAMAGE_EXCLUSIVE)
             .add(Enchantments.SHARPNESS, Enchantments.SMITE, Enchantments.BANE_OF_ARTHROPODS, Enchantments.IMPALING, Enchantments.DENSITY, Enchantments.BREACH);
@@ -75,7 +75,7 @@ public class VanillaEnchantmentTagsProvider extends EnchantmentTagsProvider {
                 Enchantments.SWIFT_SNEAK,
                 Enchantments.SOUL_SPEED,
                 Enchantments.FROST_WALKER,
-                Enchantments.MENDING,
+                /*Enchantments.MENDING,*/
                 Enchantments.WIND_BURST
             );
         this.tag(EnchantmentTags.NON_TREASURE)
@@ -123,10 +123,10 @@ public class VanillaEnchantmentTagsProvider extends EnchantmentTagsProvider {
         this.tag(EnchantmentTags.ON_TRADED_EQUIPMENT).addTag(EnchantmentTags.NON_TREASURE);
         this.tag(EnchantmentTags.ON_RANDOM_LOOT)
             .addTag(EnchantmentTags.NON_TREASURE)
-            .add(Enchantments.BINDING_CURSE, Enchantments.VANISHING_CURSE, Enchantments.FROST_WALKER, Enchantments.MENDING);
+            .add(Enchantments.BINDING_CURSE, Enchantments.VANISHING_CURSE, Enchantments.FROST_WALKER/*, Enchantments.MENDING*/);
         this.tag(EnchantmentTags.TRADEABLE)
             .addTag(EnchantmentTags.NON_TREASURE)
-            .add(Enchantments.BINDING_CURSE, Enchantments.VANISHING_CURSE, Enchantments.FROST_WALKER, Enchantments.MENDING);
+            .add(Enchantments.BINDING_CURSE, Enchantments.VANISHING_CURSE, Enchantments.FROST_WALKER/*, Enchantments.MENDING*/);
         this.tag(EnchantmentTags.CURSE).add(Enchantments.BINDING_CURSE, Enchantments.VANISHING_CURSE);
         this.tag(EnchantmentTags.SMELTS_LOOT).add(Enchantments.FIRE_ASPECT);
         this.tag(EnchantmentTags.PREVENTS_BEE_SPAWNS_WHEN_MINING).add(Enchantments.SILK_TOUCH);
diff --git a/net/minecraft/world/item/enchantment/EnchantmentHelper.java b/net/minecraft/world/item/enchantment/EnchantmentHelper.java
index b61e0e179e78f37f670ad86476b5a533e7835948..432d64d3aae52b2e2d720c8e5ac0cefbddac0665 100644
--- a/net/minecraft/world/item/enchantment/EnchantmentHelper.java
+++ b/net/minecraft/world/item/enchantment/EnchantmentHelper.java
@@ -585,16 +585,27 @@ public class EnchantmentHelper {
     public static List<EnchantmentInstance> getAvailableEnchantmentResults(int level, ItemStack stack, Stream<Holder<Enchantment>> possibleEnchantments) {
         List<EnchantmentInstance> list = Lists.newArrayList();
         boolean isBook = stack.is(Items.BOOK);
-        possibleEnchantments.filter(holder -> holder.value().isPrimaryItem(stack) || isBook).forEach(holder -> {
-            Enchantment enchantment = holder.value();
+        possibleEnchantments
+            .filter(holder -> holder.value().isPrimaryItem(stack) || isBook)
+            .filter(holder -> {
+                var key = holder.unwrapKey();
+                if (key.isPresent()) {
+                    var resourceKey = key.get();
+                    return !resourceKey.equals(net.minecraft.world.item.enchantment.Enchantments.MENDING);
 
-            for (int level1 = enchantment.getMaxLevel(); level1 >= enchantment.getMinLevel(); level1--) {
-                if (level >= enchantment.getMinCost(level1) && level <= enchantment.getMaxCost(level1)) {
-                    list.add(new EnchantmentInstance((Holder<Enchantment>)holder, level1));
-                    break;
                 }
-            }
-        });
+                return true;
+            })
+            .forEach(holder -> {
+                Enchantment enchantment = holder.value();
+
+                for (int level1 = enchantment.getMaxLevel(); level1 >= enchantment.getMinLevel(); level1--) {
+                    if (level >= enchantment.getMinCost(level1) && level <= enchantment.getMaxCost(level1)) {
+                        list.add(new EnchantmentInstance((Holder<Enchantment>)holder, level1));
+                        break;
+                    }
+                }
+            });
         return list;
     }
 
diff --git a/net/minecraft/world/item/enchantment/Enchantments.java b/net/minecraft/world/item/enchantment/Enchantments.java
index f27725a01623284420455364f485658e98c19aa3..740c5a3ee0cb42e870dee17dfda3a3682723d1f8 100644
--- a/net/minecraft/world/item/enchantment/Enchantments.java
+++ b/net/minecraft/world/item/enchantment/Enchantments.java
@@ -1246,7 +1246,7 @@ public class Enchantments {
                     )
                 )
         );
-        register(
+        /*register(
             context,
             MENDING,
             Enchantment.enchantment(
@@ -1261,7 +1261,7 @@ public class Enchantments {
                     )
                 )
                 .withEffect(EnchantmentEffectComponents.REPAIR_WITH_XP, new MultiplyValue(LevelBasedValue.constant(2.0F)))
-        );
+        );*/
         register(
             context,
             VANISHING_CURSE,
diff --git a/net/minecraft/world/item/enchantment/providers/TradeRebalanceEnchantmentProviders.java b/net/minecraft/world/item/enchantment/providers/TradeRebalanceEnchantmentProviders.java
index 2c271097b1359df598bb119231bc144d67aca3f8..357aa830b5358b8cf7c1bc73e418cd864aad602f 100644
--- a/net/minecraft/world/item/enchantment/providers/TradeRebalanceEnchantmentProviders.java
+++ b/net/minecraft/world/item/enchantment/providers/TradeRebalanceEnchantmentProviders.java
@@ -76,10 +76,10 @@ public interface TradeRebalanceEnchantmentProviders {
         context.register(TRADES_JUNGLE_ARMORER_HELMET_4, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.UNBREAKING), ConstantInt.of(1)));
         context.register(TRADES_JUNGLE_ARMORER_BOOTS_5, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.FEATHER_FALLING), ConstantInt.of(1)));
         context.register(TRADES_JUNGLE_ARMORER_HELMET_5, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.PROJECTILE_PROTECTION), ConstantInt.of(1)));
-        context.register(TRADES_SWAMP_ARMORER_BOOTS_4, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.MENDING), ConstantInt.of(1)));
+        /*context.register(TRADES_SWAMP_ARMORER_BOOTS_4, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.MENDING), ConstantInt.of(1)));
         context.register(TRADES_SWAMP_ARMORER_LEGGINGS_4, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.MENDING), ConstantInt.of(1)));
         context.register(TRADES_SWAMP_ARMORER_CHESTPLATE_4, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.MENDING), ConstantInt.of(1)));
-        context.register(TRADES_SWAMP_ARMORER_HELMET_4, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.MENDING), ConstantInt.of(1)));
+        context.register(TRADES_SWAMP_ARMORER_HELMET_4, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.MENDING), ConstantInt.of(1)));*/
         context.register(TRADES_SWAMP_ARMORER_BOOTS_5, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.DEPTH_STRIDER), ConstantInt.of(1)));
         context.register(TRADES_SWAMP_ARMORER_HELMET_5, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.RESPIRATION), ConstantInt.of(1)));
         context.register(TRADES_TAIGA_ARMORER_LEGGINGS_5, new SingleEnchantment(holderGetter.getOrThrow(Enchantments.BLAST_PROTECTION), ConstantInt.of(1)));
